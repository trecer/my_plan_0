from abc import ABC, abstractmethod
from typing import Dict
import os

from dotenv import dotenv_values


class BaseReader(ABC):

    @abstractmethod
    def read(self) -> Dict:
        pass



class EnvReader(BaseReader):
    def read(self) -> Dict:
        kwargs = dotenv_values()
        data = {}
        for k, v in kwargs.items():
            data[k] = v
        print(data)
        return data


class Settings:

    def __init__(self, reader: BaseReader):
        self.data = reader.read()
        self.bot_token = self.data.get("bot_token")

    def read(self, reader: BaseReader):
        data = reader.read()
        return data


settings = Settings(EnvReader())
